<!-- <header class="header">
  <div class="container">
    <div class="logo">ğŸ   StayZee.com</div>
     <nav class="navbar">
      <div class="logo">
        <a routerLink="/" class="logo-link">ğŸ StayZee.com</a>
      </div>
      <div class="nav-links">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
        <a routerLink="/favorite" routerLinkActive="active">â¤ï¸Favorites</a>
        <a href="/admin/settings" routerLinkActive="active">âš™ï¸Setting</a>
        <a href="/about" routerLinkActive="active">ğŸ‘¥About Us</a>

      </div>
      <div class="profile-section">
        <div class="profile-icon" (click)="toggleProfileMenu()">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" 
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
            <a routerLink="/profile" (click)="closeMenu()">Profile</a>
        </div>
      </div> 
    
    </nav> 
  </div>
</header> -->

<div class="container">
  <h1 class="main-title">Get a smooth stay in Sri Lanka... ğŸ–ï¸</h1>

  <!-- Enhanced Search Bar with City Search -->
  <div class="search-bar">
    <div class="search-input-wrapper">
      <input type="text" placeholder="Search by city... ğŸ”" class="search-input city-search" [(ngModel)]="searchCity"
        (input)="onSearchInput()" [disabled]="isLoading">
      <button *ngIf="searchCity" class="clear-btn" (click)="clearSearch()" title="Clear search">
        âœ•
      </button>
    </div>
    <input type="number" placeholder="Min Bedrooms" class="search-input" [(ngModel)]="searchMinBedrooms">
    <input type="number" placeholder="Max Price" class="search-input" [(ngModel)]="searchMaxPrice">
    <select class="search-input">
      <option>Property Type</option>
    </select>
    <select class="search-input">
      <option>Long or Short Term</option>
    </select>
    <button class="search-btn" (click)="onSearch()" [disabled]="isLoading">
      <span *ngIf="!isLoading">Search</span>
      <span *ngIf="isLoading">Searching...</span>
    </button>
  </div>

  <!-- Loading Indicator -->
  <div class="loading-indicator" *ngIf="isLoading">
    <div class="spinner"></div>
    <p>Loading rentals...</p>
  </div>

  <!-- No Results Message -->
  <div class="no-results" *ngIf="noResults && !isLoading">
    <p>ğŸ˜• No properties found in "{{ searchCity }}"</p>
    <button class="search-btn" (click)="clearSearch()">View All Properties</button>
  </div>

  <div class="filters">

    <label><input type="checkbox"> Pet Friendly</label>

  </div>

  <!-- Rental Cards Grid -->
  <div class="rentals-grid">
    <div class="rental-card" *ngFor="let r of rentals">
      <!-- Main Image -->
      <img [src]="r.photoUrls[0]" alt="{{ r.homeTitle }}" class="main-photo" (error)="onImgError($event)">

      <div class="card-content">
        <h3 class="title">{{ r.homeTitle }}</h3>
        <p class="location">
          {{ r.homeLocation }} â€¢ {{ r.bedrooms }} Bedrooms
          <span class="type">â€¢ {{ getPropertyType(r) }}</span>
        </p>
        <p class="description">
          {{ getDescription(r) }}
        </p>

        <div class="bottom-bar">
          <div class="price">
            <strong>{{ r.monthPrice | number }}</strong>/month
            <strong>{{ r.oneDayPrice | number }}</strong>/OneDay
          </div>
          <button class="favorite-btn">â¤ï¸</button>

          <!-- <button class="favorite-btn">â¤ï¸</button> -->
          <button class="book-btn" (click)="bookNow(r.id)">
            BOOK NOW
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="no-data" *ngIf="rentals.length === 0">
    <p>Currently, no houses are available. </p>
    <h2>Start searching for your perfect stay!</h2>
    <p>Enter a city name above to find available rental properties</p>
  </div>
</div>